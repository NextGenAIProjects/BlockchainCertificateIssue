<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decentralized Certificate Verifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- To add a "Download PDF" feature -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
    <header class="main-header">
        <h1>ðŸ“œ Decentralized Certificate Verification</h1>
        <div class="nav-buttons">
            <button onclick="showSection('issue-section')" class="nav-btn">Issue Certificate</button>
            <button onclick="showSection('verify-section')" class="nav-btn">Verify Certificate</button>
        </div>
    </header>
    <br>
    <div class="container">
        <section id="issue-section" class="card">
            <h2 class="section-title">Issue New Certificate</h2>
            <hr>
            <div class="input-group">
                <label>Recipient Ethereum Address:</label>
                <input type="text" id="adminAccount" placeholder="e.g. 0x...">
                
                <label>Certificate Hash (SHA-256 Hex):</label>
                <input type="text" id="certId" placeholder="e.g. Certificate Id in SHA-256 format">
                
                <label>Student Name:</label>
                <input type="text" id="studentName" placeholder="e.g. John Doe">

                <label>Course Name:</label>
                <input type="text" id="courseName" placeholder="e.g. Blockchain Engineering">
                
                <div class="button-group" style="display: flex; gap: 10px;">
                    <button onclick="handleIssue()" class="btn-green" style="flex: 2;">Issue on Blockchain</button>
                    <button onclick="clearForm()" class="btn-gray" style="flex: 1; background: #718096; color: white; border: none; padding: 15px; margin-top: 25px; border-radius: 4px; font-weight: bold; cursor: pointer;">Clear</button>
                </div>

            </div>
        </section>

        <section id="verify-section" class="card" style="display:none;">
            <h2 class="section-title">Verify Certificate</h2>
            <hr>
            <div class="input-group">
                <label>Enter Certificate ID/Hash:</label>
                <input type="text" id="verifyCertId" placeholder="Enter the ID to check...">
                <button onclick="handleVerify()" class="btn-blue">Verify on Ledger</button>
            </div>
            <div id="result" class="result-area"></div>
        </section>
    </div>

    <div class="container" style="margin-top: 20px;">
        <div class="card">
            <h3>Recent Transactions (Blockchain Ledger)</h3>
            <div style="margin-bottom: 15px;">
                <input type="text" id="tableSearch" onkeyup="searchTable()" placeholder="Search by ID, Name, or Course..." style="padding: 8px; width: 100%; border: 1px solid #cbd5e0;">
            </div>
        
            <table id="historyTable" style="width:100%; text-align:left; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid #eee; background-color: #f7fafc;">
                        <th style="padding: 10px;">ID</th>
                        <th style="padding: 10px;">Name</th>
                        <th style="padding: 10px;">Course</th>
                        <th style="padding: 10px;">Block</th>
                    </tr>
                </thead>
                <tbody id="historyBody">
                    </tbody>
            </table>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>